# TestServiceRequests
Тестовое задание для Сбертех

### Задание
Необходимо разработать систему, которая предоставляет возможность заведения, изменения, поиска и аннулирования заявок в некоторой системе банка. 
Эта система должна состоять из
- REST-сервиса, который предоставляет API для взаимодействия с некоторым клиентом (разработка клиентской части не является обязательной) и позволяет инициировать все предусмотренные операции с заявками (с сохранением записей аудита в хранилище);
- хранилища заявок (база данных, в которой хранятся все заведенные заявки) и хранилища аудита (куда должна сохраняться информация о факте отправки запроса в банковскую систему и получения ответа от нее);
- банковской системы, которая выполнена в виде приложения, реализующего всю логику работы с заявками (поиск, создание, удаление и т.д.) и работу с хранилищем заявок;

REST-сервис должен отправлять запросы в банковскую систему посредством MQ-сообщений (формат сообщений по выбору). В ответ система должна отправить результат обработки запроса либо информацию об ошибке. В качестве message broker’а можно выбрать любой удобный.

###### Описание заявки:
- номер заявки
- клиент, который завел заявку
- наименование предоставляемой банковской услуги (кредит, страховка, выпуск карты и т.д.)
- дата создания заявки
- дата последнего изменения заявки
- статус заявки (например: «Новая», «В обработке», «Отозвана», «Выполнена» и т.д.)
- комментарий (произвольный текст)
- любые другие атрибуты, которые считаете необходимыми
###### Операции над заявками:
- Создание заявки (в хранилище должна создаваться соответствующая запись с информацией по заявке со статусом «Новая»).
- Редактирование заявки (перевод в статусы «В обработке», «Выполнена» с обновлением времени изменения).
- Отзыв заявки (перевод в статус «Отозвана»).
- Получение списка заявок с фильтрацией по статусу, клиенту, дате создания и изменения, услуге. Желательно предусмотреть комбинацию этих фильтров.
Все выполняемые операции должны сопровождаться логами.
###### Критерии приемки:
- код приложения  должен храниться в GitHub или BitBucket;
- в качестве хранилища использовать какую-либо embedded-DB, если предполагается, что в базе должны быть данные, то требуется также предоставить SQL-скрипт заполнения;
- должны присутствовать тесты;
- должен присутствовать хотя бы один rest-сервис;
- нельзя использовать Spring-Boot, Spring Data JPA (сам Spring Framework использовать можно);
- необходима инструкция запуска приложения.

### Описание приложения
Данное приложение выполняет функции серверного приложения. По требованиях Spring, настраивается dispatcher servlet. В методе его инициализации запускается дочерний поток, в котором осуществляется отправка MQ-сообщений в банковское приложение. Также, присутствует REST-контроллер, который замаплен на путь "/bankRequest" и имеет 4 метода POST (для создания заявки), PATCH (для редактирования статуса), DELETE (для отзыва заявки) и POST на /filter (для получения отфильтрованного списка заявок).

### Использованные технологии
- Для реализации логгирования всех операций в приложении была использована библиотека Log4j
- В качестве message broke`а был выбран Apache ActiveMQ
- В качестве фреймворка был выбран Spring
